import{d as y,o as i,e as f,w as l,b as n,D as u,f as a,G as c,t as o,a as b,j as O,q as _,R as P,am as at,P as nt,aj as L,aW as N,ax as rt,ae as x,aX as I,g as v,aY as z,aZ as G,a_ as W,al as H,a$ as lt,N as st,a0 as it,a1 as ct,b0 as dt,b1 as D,aK as ut,aH as pt,aI as ft}from"./vendor-d45124f2.js";import{_ as Y,a as g,f as X,c as mt,b as vt,t as k,h as Z}from"./index-1b5bb668.js";import{_ as ht}from"./PageHeader.vue_vue_type_script_setup_true_lang-10c52b00.js";import{_ as gt}from"./PageContent.vue_vue_type_script_setup_true_lang-cfff65eb.js";import{_ as K}from"./Tab.vue_vue_type_script_setup_true_lang-e642cf95.js";import{_ as bt}from"./TabGroup.vue_vue_type_script_setup_true_lang-2a0aeaeb.js";import{u as J}from"./useForm-1bf51685.js";import{_ as wt}from"./ProfileCard.vue_vue_type_script_setup_true_lang-8ac060cf.js";import{_ as j}from"./Tooltip.vue_vue_type_script_setup_true_lang-f4a3a88a.js";const $t={class:"grid grid-cols-6 gap-6"},yt={class:"flex gap-1 col-span-12 grid grid-cols-12"},_t=y({__name:"ChangePasswordCard",setup(h){const{form:d,submit:r}=J({password:"",password_confirmation:""},route("craftable-pro.craftable-pro-users.password.update"));return(t,e)=>(i(),f(a(X),{title:t.$t("craftable-pro","Password")},{default:l(()=>[n("div",$t,[u(a(Y),{modelValue:a(d).password,"onUpdate:modelValue":e[0]||(e[0]=s=>a(d).password=s),name:"password",label:t.$t("craftable-pro","Password")+" *",type:"password",autocomplete:"new-password",class:"col-span-12",labelPlacement:"left"},null,8,["modelValue","label"]),u(a(Y),{modelValue:a(d).password_confirmation,"onUpdate:modelValue":e[1]||(e[1]=s=>a(d).password_confirmation=s),name:"password_confirmation",label:t.$t("craftable-pro","Password confirmation")+" *",type:"password",autocomplete:"new-password",class:"col-span-12",labelPlacement:"left"},null,8,["modelValue","label"]),n("div",yt,[u(a(g),{class:"flex gap-1 col-span-3 col-start-5",onClick:a(r),loading:a(d).processing},{default:l(()=>[c(o(t.$t("craftable-pro","Save password")),1)]),_:1},8,["onClick","loading"])])])]),_:1},8,["title"]))}}),Ct={},At={class:"flex flex-col gap-4"};function Ft(h,d){return i(),b("div",null,[n("ol",At,[O(h.$slots,"default")])])}const tt=mt(Ct,[["render",Ft]]),kt={class:"flex gap-x-3"},St={class:"flex"},xt={class:"w-[32px] h-[32px] text-base rounded-full border-gray-300 font-bold text-gray-900 border-solid border flex items-center justify-center"},Rt={class:"text-slate-900 font-semibold leading-5"},Tt={class:"text-slate-500 leading-5"},M=y({__name:"OrderedListItem",props:{order:{}},setup(h){return(d,r)=>(i(),b("li",kt,[n("div",St,[n("div",xt,o(d.order),1)]),n("div",null,[n("div",Rt,[O(d.$slots,"title")]),n("div",Tt,[O(d.$slots,"content")])])]))}});function q(){return{copyKey:e=>navigator.clipboard?(navigator.clipboard.writeText(e),!0):!1,printRecoveryCodes:e=>{const s=window.open();s==null||s.document.write(e),s==null||s.print(),s==null||s.close()},copyRecoveryCodes:e=>navigator.clipboard?(navigator.clipboard.writeText(e),!0):!1,downloadRecoveryCodes:e=>{let s=document.createElement("a");s.setAttribute("href","data:text/plain;charset=utf-8,"+encodeURIComponent(e)),s.setAttribute("download","craftable-recovery-codes.txt"),s.style.display="none",document.body.appendChild(s),s.click(),document.body.removeChild(s)}}}const Et={class:"mt-6 flex flex-col gap-5"},Mt={target:"_blank",href:"https://apps.apple.com/us/app/google-authenticator/id388497605",class:"text-indigo-600"},Pt={class:"text-slate-700"},jt={class:"flex gap-5 align-center justify-center items-center mt-8 mb-4"},qt={class:"border-4 border-slate-300 w-[160px] h-[160px] flex align-center justify-center items-center",id:"two-fa-setup-qr"},Qt=["innerHTML"],Ut=y({__name:"TwoFactorAuthenticationSetupModalFirstStep",props:{processing:{type:Boolean},twoFactorAuthenticationSetupCode:{},twoFactorAuthenticationSetupQrSvg:{}},setup(h){const{copyKey:d}=q(),r=h,t=_(!1);return(e,s)=>(i(),b(P,null,[n("div",Et,[u(tt,null,{default:l(()=>[u(M,{order:"1"},{title:l(()=>[c(o(e.$t("craftable-pro","Open an authentication app")),1)]),content:l(()=>[c(o(e.$t("craftable-pro","We recommend downloading"))+" ",1),n("a",Mt,o(e.$t("craftable-pro","Google Authenticator")),1),c(" "+o(e.$t("craftable-pro","if you do not have one installed.")),1)]),_:1}),u(M,{order:"2"},{title:l(()=>[c(o(e.$t("craftable-pro","Scan this QR code or copy the key")),1)]),content:l(()=>[c(o(e.$t("craftable-pro","Use the app to scan QR code or manually enter the following code: "))+" ",1),n("div",Pt,[c(o(r.twoFactorAuthenticationSetupCode)+" ",1),u(a(j),{position:"top",class:"inline-flex",useHover:!1},{button:l(()=>[n("a",{class:"text-indigo-600 px-2",href:"#",onClick:s[0]||(s[0]=A=>t.value=a(d)(e.twoFactorAuthenticationSetupCode))},o(e.$t("craftable-pro","Copy Key")),1)]),content:l(()=>[c(o(t.value?e.$t("craftable-pro","Copied!"):e.$t("craftable-pro","Could not copy to clipboard!")),1)]),_:1})])]),_:1})]),_:1})]),n("div",jt,[n("div",qt,[n("span",{innerHTML:r.twoFactorAuthenticationSetupQrSvg},null,8,Qt)])])],64))}}),Vt={class:"mt-6 flex flex-col gap-5"},Ot={class:"text-slate-900 font-semibold leading-5"},Ht={class:"text-slate-500 leading-5"},et=y({__name:"TwoFactorAuthenticationSetupVerificationModal",emits:["inputConfirmationCode"],setup(h,{emit:d}){const r=_(""),t=d;return at(()=>r.value,()=>{t("inputConfirmationCode",r.value)}),(e,s)=>(i(),b("div",Vt,[n("div",null,[n("div",Ot,o(e.$t("craftable-pro","Get your code from your authentication app")),1),n("div",Ht,o(e.$t("craftable-pro","Enter the 6-digit code generated by your authentication app. A new code is generated every 30 seconds.")),1)]),n("div",null,[u(a(Y),{name:"two-factor-confirmation-code",modelValue:r.value,"onUpdate:modelValue":s[0]||(s[0]=A=>r.value=A),placeholder:e.$t("craftable-pro","Enter code"),required:!0,autocomplete:"off"},null,8,["modelValue","placeholder"])])]))}}),Yt={class:"mt-6 flex flex-col gap-5 items-center"},Bt={class:"text-lg text-slate-900 font-semibold leading-8 items-center text-center"},Dt={class:"text-sm text-slate-500 font-light"},Kt={class:"rounded-md border border-slate-300 flex flex-col gap-4 p-4 w-full"},Lt={class:"flex flex-col gap-2 pb-4 border-b border-slate-200"},Nt={class:"text-slate-900 text-sm font-semibold"},It={class:"text-slate-500 text-sm"},zt={class:"flex gap-5 grid grid-cols-2"},Gt={class:"text-slate-900 rounded-full py-2 text-center w-full bg-slate-100 text-sm"},ot=y({__name:"TwoFactorAuthenticationSetupRecoveryCodesModal",props:{twoFactorAuthenticationRecoveryCodes:{}},setup(h){const d=h;return(r,t)=>(i(),b("div",Yt,[t[0]||(t[0]=n("img",{src:"/craftable-pro/images/qr-code-checkmark.svg",width:"104",height:"104",alt:"qr code icon"},null,-1)),n("div",null,[n("div",Bt,o(r.$t("craftable-pro","2FA is enabled")),1),n("div",Dt,o(r.$t("craftable-pro","You’ll get a login code from your authentication app.")),1)]),u(a(vt),{type:"info"},{default:l(()=>[c(o(r.$t("craftable-pro","Please copy, download, or print your recovery codes before proceeding.")),1)]),_:1}),n("div",Kt,[n("div",Lt,[n("div",Nt,o(r.$t("craftable-pro","Your recovery codes")),1),n("div",It,o(r.$t("craftable-pro","If you lose your phone each of these recovery codes can be used one time each to regain access to your account. Please save them in a safe place, or you will lose access to your account.")),1)]),n("div",zt,[(i(!0),b(P,null,nt(d.twoFactorAuthenticationRecoveryCodes,(e,s)=>(i(),b("div",Gt,o(e),1))),256))])])]))}}),Wt=y({__name:"TwoFactorAuthenticationSetupModal",props:{open:{type:Boolean}},emits:["toggleOpen"],setup(h,{emit:d}){const r=_(!1),t=_(1),e=L(),s=_(!1),A=d,T=()=>{A("toggleOpen")},{printRecoveryCodes:Q,copyRecoveryCodes:U,downloadRecoveryCodes:R}=q(),w=()=>{r.value=!0,t.value===1?(t.value=2,r.value=!1):t.value===2&&x.post(route("two-factor.confirm"),{code:$.twoFactorAuthenticationConfirmationCode}).then(m=>{t.value=3},m=>{e.error(m.response.data.message??k("craftable-pro","An error has occurred."))}).finally(()=>{r.value=!1})},$=N({twoFactorAuthenticationSetupCode:"",twoFactorAuthenticationConfirmationCode:"",twoFactorAuthenticationSetupQrSvg:"",twoFactorAuthenticationRecoveryCodes:[]});rt(()=>{x.post(route("two-factor.enable"),{}).then(m=>{V()}).catch(m=>e.error(k("craftable-pro","An error occurred loading the 2FA data.")))});async function V(){await x.get(route("craftable-pro.settings.2FA-codes"),{}).then(m=>{$.twoFactorAuthenticationSetupCode=m.data.twoFactorAuthenticationSetupCode,$.twoFactorAuthenticationSetupQrSvg=m.data.twoFactorAuthenticationSetupQrSvg,$.twoFactorAuthenticationRecoveryCodes=m.data.twoFactorAuthenticationRecoveryCodes}).catch(m=>e.error(k("craftable-pro","An error occurred loading the 2FA data.")))}return(m,C)=>(i(),f(a(Z),{open:m.open,onToggleOpen:T,"external-open":!0,alignButtons:"right",size:"md"},I({content:l(()=>[t.value===1?(i(),f(Ut,{key:0,processing:r.value,"two-factor-authentication-setup-code":$.twoFactorAuthenticationSetupCode,"two-factor-authentication-setup-qr-svg":$.twoFactorAuthenticationSetupQrSvg},null,8,["processing","two-factor-authentication-setup-code","two-factor-authentication-setup-qr-svg"])):v("",!0),t.value===2?(i(),f(et,{key:1,processing:r.value,onInputConfirmationCode:C[0]||(C[0]=S=>$.twoFactorAuthenticationConfirmationCode=S)},null,8,["processing"])):v("",!0),t.value===3?(i(),f(ot,{key:2,processing:r.value,"two-factor-authentication-recovery-codes":$.twoFactorAuthenticationRecoveryCodes},null,8,["processing","two-factor-authentication-recovery-codes"])):v("",!0)]),buttons:l(({setIsOpen:S})=>[t.value!==3?(i(),f(a(g),{key:0,variant:"outline",color:"gray",onClick:()=>{t.value=1,S()}},{default:l(()=>[c(o(m.$t("craftable-pro","Cancel")),1)]),_:2},1032,["onClick"])):v("",!0),t.value===1?(i(),f(a(g),{key:1,disabled:r.value,onClick:w,"left-icon-custom-style":"margin-right: 0.25rem"},{default:l(()=>[c(o(m.$t("craftable-pro","Next step")),1)]),_:1},8,["disabled"])):t.value===2?(i(),f(a(g),{key:2,disabled:r.value,onClick:w,"left-icon-custom-style":"margin-right: 0.25rem"},{default:l(()=>[c(o(m.$t("craftable-pro","Verify")),1)]),_:1},8,["disabled"])):v("",!0),t.value===3?(i(),f(a(j),{key:3,position:"top",class:"inline-flex",useHover:!1},{button:l(()=>[u(a(g),{"left-icon":a(z),onClick:C[1]||(C[1]=p=>s.value=a(U)($.twoFactorAuthenticationRecoveryCodes.join(`\r
`))),"left-icon-custom-style":"margin-right: 0.25rem"},{default:l(()=>[c(o(m.$t("craftable-pro","Copy codes")),1)]),_:1},8,["left-icon"])]),content:l(()=>[c(o(s.value?m.$t("craftable-pro","Copied!"):m.$t("craftable-pro","Could not copy to clipboard!")),1)]),_:1})):v("",!0),t.value===3?(i(),f(a(g),{key:4,onClick:C[2]||(C[2]=p=>a(R)($.twoFactorAuthenticationRecoveryCodes.join(`\r
`))),"left-icon":a(G),"left-icon-custom-style":"margin-right: 0.25rem"},{default:l(()=>[c(o(m.$t("craftable-pro","Download codes")),1)]),_:1},8,["left-icon"])):v("",!0),t.value===3?(i(),f(a(g),{key:5,onClick:C[3]||(C[3]=p=>a(Q)($.twoFactorAuthenticationRecoveryCodes.join("<br>"))),"left-icon":a(W),"left-icon-custom-style":"margin-right: 0.25rem"},{default:l(()=>[c(o(m.$t("craftable-pro","Print codes")),1)]),_:1},8,["left-icon"])):v("",!0),t.value===3?(i(),f(a(g),{key:6,variant:"outline",color:"gray","left-icon-custom-style":"margin-right: 0.25rem",onClick:()=>{S(),a(H).reload(),t.value=1}},{default:l(()=>[c(o(m.$t("craftable-pro","Close")),1)]),_:2},1032,["onClick"])):v("",!0)]),_:2},[t.value!==3?{name:"title",fn:l(()=>[c(o(m.$t("craftable-pro","Set up authentication app")),1)]),key:"0"}:void 0]),1032,["open"]))}}),Xt={class:"mt-6 flex flex-col gap-5"},Zt={class:"text-slate-500 text-sm"},Jt={class:"rounded-md border border-slate-200 flex flex-col gap-2 p-3.5 w-full"},te={class:"text-slate-900 font-semibold"},ee={class:"flex gap-2 items-center"},oe={class:"text-slate-800 text-sm"},ae={class:"text-slate-500 text-sm"},ne={class:"text-right flex gap-4 ml-auto items-center"},re=["title"],le=y({__name:"TwoFactorAuthenticationManageModalFirstStep",props:{twoFactorAuthenticationEnabledAt:{}},emits:["changeAppClicked","removeAppClicked"],setup(h,{emit:d}){return(r,t)=>(i(),b("div",Xt,[n("div",Zt,o(r.$t("craftable-pro","You’ll get a login code from your authentication app. We will now ask for a login code anytime you log in on a device we do not recognize.")),1),n("div",Jt,[n("div",te,o(r.$t("craftable-pro","Your authentication app")),1),n("div",ee,[t[3]||(t[3]=n("img",{src:"/craftable-pro/images/qr-code-icon.svg",width:"24",height:"24",alt:"qr code icon"},null,-1)),n("div",oe,o(r.$t("craftable-pro","Authenticator")),1),n("div",ae,o(r.$t("craftable-pro","Added")+": "+r.twoFactorAuthenticationEnabledAt),1),n("div",ne,[n("a",{class:"text-indigo-600",href:"#",onClick:t[0]||(t[0]=e=>r.$emit("changeAppClicked"))},o(r.$t("craftable-pro","Change app")),1),n("a",{title:r.$t("craftable-pro","Remove app"),href:"#",onClick:t[2]||(t[2]=e=>r.$emit("removeAppClicked"))},[u(a(lt),{class:"w-[20px]",onClick:t[1]||(t[1]=e=>r.$emit("removeAppClicked"))})],8,re)])])])]))}}),se={class:"mt-6 flex flex-col gap-5"},ie={class:"flex flex-col gap-2"},ce={class:"text-slate-500 text-sm"},de={class:"rounded-md border border-slate-200 flex flex-col gap-2 p-3.5 w-full"},ue={class:"flex gap-2 items-center"},pe={class:"text-slate-800 text-sm"},fe={class:"text-slate-500 text-sm"},me=y({__name:"TwoFactorAuthenticationRemoveModal",props:{twoFactorAuthenticationEnabledAt:{}},setup(h){return(d,r)=>(i(),b("div",se,[n("div",ie,[n("div",ce,o(d.$t("craftable-pro","You will no longer be able to use your old verification app:")),1),n("div",de,[n("div",ue,[r[0]||(r[0]=n("img",{src:"/craftable-pro/images/qr-code-icon.svg",width:"24",height:"24",alt:"qr code icon"},null,-1)),n("div",pe,o(d.$t("craftable-pro","Authenticator")),1),n("div",fe,o(d.$t("craftable-pro","Added")+": "+d.twoFactorAuthenticationEnabledAt),1)])])])]))}}),ve={class:"mt-6 flex flex-col gap-5"},he={class:"flex flex-col gap-2 pb-6 border-slate-200 border-b"},ge={class:"text-slate-500 text-sm"},be={class:"rounded-md border border-slate-200 flex flex-col gap-2 p-3.5 w-full"},we={class:"flex gap-2 items-center"},$e={class:"text-slate-800 text-sm"},ye={class:"text-slate-500 text-sm"},_e={class:"text-slate-700"},Ce={class:"flex gap-5 align-center justify-center items-center mt-8 mb-4"},Ae={class:"border-4 border-slate-300 w-[160px] h-[160px] flex align-center justify-center items-center",id:"two-fa-setup-qr"},Fe=["innerHTML"],ke=y({__name:"TwoFactorAuthenticationManageModalSecondStep",props:{processing:{type:Boolean},twoFactorAuthenticationSetupCode:{},twoFactorAuthenticationSetupQrSvg:{},twoFactorAuthenticationEnabledAt:{}},setup(h){const{copyKey:d}=q(),r=h,t=_(!1);return(e,s)=>{const A=st("Link");return i(),b(P,null,[n("div",ve,[n("div",he,[n("div",ge,o(e.$t("craftable-pro","You will no longer be able to use your old verification app:")),1),n("div",be,[n("div",we,[s[1]||(s[1]=n("img",{src:"/craftable-pro/images/qr-code-icon.svg",width:"24",height:"24",alt:"qr code icon"},null,-1)),n("div",$e,o(e.$t("craftable-pro","Authenticator")),1),n("div",ye,o(e.$t("craftable-pro","Added")+": "+e.twoFactorAuthenticationEnabledAt),1)])])]),u(tt,null,{default:l(()=>[u(M,{order:"1"},{title:l(()=>[c(o(e.$t("craftable-pro","Open an authentication app")),1)]),content:l(()=>[c(o(e.$t("craftable-pro","We recommend downloading"))+" ",1),u(A,{href:"https://apps.apple.com/us/app/google-authenticator/id388497605",class:"text-indigo-600"},{default:l(()=>[c(o(e.$t("craftable-pro","Google Authenticator")),1)]),_:1}),c(" "+o(e.$t("craftable-pro","if you do not have one installed.")),1)]),_:1}),u(M,{order:"2"},{title:l(()=>[c(o(e.$t("craftable-pro","Scan this QR code or copy the key")),1)]),content:l(()=>[c(o(e.$t("craftable-pro","Use the app to scan QR code or manually enter the following code: "))+" ",1),n("div",_e,[c(o(r.twoFactorAuthenticationSetupCode)+" ",1),u(a(j),{position:"top",class:"inline-flex",useHover:!1},{button:l(()=>[n("a",{class:"text-indigo-600 px-2",href:"#",onClick:s[0]||(s[0]=T=>t.value=a(d)(e.twoFactorAuthenticationSetupCode))},o(e.$t("craftable-pro","Copy Key")),1)]),content:l(()=>[c(o(t.value?e.$t("craftable-pro","Copied!"):e.$t("craftable-pro","Could not copy to clipboard!")),1)]),_:1})])]),_:1})]),_:1})]),n("div",Ce,[n("div",Ae,[n("span",{innerHTML:r.twoFactorAuthenticationSetupQrSvg},null,8,Fe)])])],64)}}}),Se=y({__name:"TwoFactorAuthenticationManageModal",props:{open:{type:Boolean},twoFactorAuthenticationEnabledAt:{},changeAppClicked:{type:Function}},emits:["toggleOpen"],setup(h,{emit:d}){const r=_(!1),t=_(1),e=_(!1),s=L(),A=_(!1),T=d,Q=()=>{T("toggleOpen")},U=()=>{e.value=!0,t.value=2},R=async()=>{r.value=!0,t.value===1?(await C(),t.value=2,r.value=!1):t.value===2?(t.value=3,r.value=!1):t.value===3&&x.post(route("craftable-pro.settings.update-new-2FA-codes"),{code:w.twoFactorAuthenticationConfirmationCode}).then(p=>{t.value=4},p=>{s.error(p.response.data.message??k("craftable-pro","An error has occurred."))}).finally(()=>{r.value=!1})},w=N({twoFactorAuthenticationSetupCode:"",twoFactorAuthenticationConfirmationCode:"",twoFactorAuthenticationSetupQrSvg:"",twoFactorAuthenticationRecoveryCodes:[]}),{printRecoveryCodes:$,copyRecoveryCodes:V,downloadRecoveryCodes:m}=q();async function C(){await x.get(route("craftable-pro.settings.new-2FA-codes"),{}).then(p=>{w.twoFactorAuthenticationSetupCode=p.data.twoFactorAuthenticationSetupCode,w.twoFactorAuthenticationSetupQrSvg=p.data.twoFactorAuthenticationSetupQrSvg,w.twoFactorAuthenticationRecoveryCodes=p.data.twoFactorAuthenticationRecoveryCodes}).catch(p=>s.error(k("craftable-pro","An error occurred loading the 2FA data.")))}function S(){x.delete(route("two-factor.disable"),{}).then(p=>{H.reload(),s.info(k("craftable-pro","Two factor authentication successfully disabled."))}).catch(p=>s.error(k("craftable-pro","An error occurred while disabling the 2FA.")))}return(p,F)=>(i(),f(a(Z),{open:p.open,onToggleOpen:Q,"external-open":!0,alignButtons:"right",size:"md"},I({content:l(()=>[t.value===1?(i(),f(le,{key:0,"two-factor-authentication-enabled-at":p.twoFactorAuthenticationEnabledAt,onChangeAppClicked:R,onRemoveAppClicked:U},null,8,["two-factor-authentication-enabled-at"])):v("",!0),t.value===2&&e.value?(i(),f(me,{key:1,"two-factor-authentication-enabled-at":p.twoFactorAuthenticationEnabledAt},null,8,["two-factor-authentication-enabled-at"])):v("",!0),t.value===2&&!e.value?(i(),f(ke,{key:2,processing:r.value,"two-factor-authentication-enabled-at":p.twoFactorAuthenticationEnabledAt,"two-factor-authentication-setup-code":w.twoFactorAuthenticationSetupCode,"two-factor-authentication-setup-qr-svg":w.twoFactorAuthenticationSetupQrSvg},null,8,["processing","two-factor-authentication-enabled-at","two-factor-authentication-setup-code","two-factor-authentication-setup-qr-svg"])):v("",!0),t.value===3?(i(),f(et,{key:3,processing:r.value,onInputConfirmationCode:F[0]||(F[0]=E=>w.twoFactorAuthenticationConfirmationCode=E)},null,8,["processing"])):v("",!0),t.value===4?(i(),f(ot,{key:4,processing:r.value,"two-factor-authentication-recovery-codes":w.twoFactorAuthenticationRecoveryCodes},null,8,["processing","two-factor-authentication-recovery-codes"])):v("",!0)]),buttons:l(({setIsOpen:E})=>[t.value!==4?(i(),f(a(g),{key:0,variant:"outline",color:"gray",onClick:()=>{t.value=1,E()}},{default:l(()=>[c(o(p.$t("craftable-pro","Cancel")),1)]),_:2},1032,["onClick"])):v("",!0),t.value===2&&!e.value?(i(),f(a(g),{key:1,disabled:r.value,onClick:R,"left-icon-custom-style":"margin-right: 0.25rem"},{default:l(()=>[c(o(p.$t("craftable-pro","Next step")),1)]),_:1},8,["disabled"])):v("",!0),t.value===2&&e.value?(i(),f(a(g),{key:2,disabled:r.value,onClick:S,"left-icon-custom-style":"margin-right: 0.25rem"},{default:l(()=>[c(o(p.$t("craftable-pro","Confirm removal")),1)]),_:1},8,["disabled"])):t.value===3?(i(),f(a(g),{key:3,disabled:r.value,onClick:R,"left-icon-custom-style":"margin-right: 0.25rem"},{default:l(()=>[c(o(p.$t("craftable-pro","Verify")),1)]),_:1},8,["disabled"])):v("",!0),t.value===4?(i(),f(a(j),{key:4,position:"top",class:"inline-flex",useHover:!1},{button:l(()=>[u(a(g),{"left-icon":a(z),onClick:F[1]||(F[1]=B=>A.value=a(V)(w.twoFactorAuthenticationRecoveryCodes.join(`\r
`))),"left-icon-custom-style":"margin-right: 0.25rem"},{default:l(()=>[c(o(p.$t("craftable-pro","Copy codes")),1)]),_:1},8,["left-icon"])]),content:l(()=>[c(o(A.value?p.$t("craftable-pro","Copied!"):p.$t("craftable-pro","Could not copy to clipboard!")),1)]),_:1})):v("",!0),t.value===4?(i(),f(a(g),{key:5,onClick:F[2]||(F[2]=B=>a(m)(w.twoFactorAuthenticationRecoveryCodes.join(`\r
`))),"left-icon":a(G),"left-icon-custom-style":"margin-right: 0.25rem"},{default:l(()=>[c(o(p.$t("craftable-pro","Download codes")),1)]),_:1},8,["left-icon"])):v("",!0),t.value===4?(i(),f(a(g),{key:6,onClick:F[3]||(F[3]=B=>a($)(w.twoFactorAuthenticationRecoveryCodes.join("<br/>"))),"left-icon":a(W),"left-icon-custom-style":"margin-right: 0.25rem"},{default:l(()=>[c(o(p.$t("craftable-pro","Print codes")),1)]),_:1},8,["left-icon"])):v("",!0),t.value===4?(i(),f(a(g),{key:7,variant:"outline",color:"gray","left-icon-custom-style":"margin-right: 0.25rem",onClick:()=>{E(),a(H).reload(),t.value=1}},{default:l(()=>[c(o(p.$t("craftable-pro","Close")),1)]),_:2},1032,["onClick"])):v("",!0)]),_:2},[t.value===1?{name:"title",fn:l(()=>[c(o(p.$t("craftable-pro","Manage authentication app")),1)]),key:"0"}:void 0,t.value<=3&&!e.value?{name:"title",fn:l(()=>[c(o(p.$t("craftable-pro","Change authentication app")),1)]),key:"1"}:void 0,t.value===2&&e.value?{name:"title",fn:l(()=>[c(o(p.$t("craftable-pro","Remove authentication app")),1)]),key:"2"}:void 0]),1032,["open"]))}}),xe={class:"grid grid-cols-6 gap-6"},Re={class:"flex gap-1 col-span-12 items-center",style:{position:"relative"}},Te={class:"w-1/3 text-sm font-medium text-gray-700"},Ee={class:"w-1/3 text-sm"},Me={key:0,class:"flex items-center"},Pe={class:"text-slate-500 ml-2"},je={key:1,class:"flex align-center items-center"},qe={key:0,class:"w-1/3 text-right"},Qe={key:1,class:"w-1/3 text-right"},Ue=y({__name:"TwoFactorAuthenticationCard",props:{twoFactorAuthenticationEnabledAt:{}},setup(h){const d=_(!1),r=_(!1);return(t,e)=>(i(),f(a(X),{title:t.$t("craftable-pro","Two factor authentication (2FA)")},{default:l(()=>[n("div",xe,[n("div",Re,[n("div",Te,o(t.$t("craftable-pro","Authentication app")),1),n("div",Ee,[t.twoFactorAuthenticationEnabledAt?(i(),b("div",Me,[u(a(it),{class:"h-6 w-6 text-success-400 stroke-2 mr-1"}),c(" "+o(t.$t("craftable-pro","Enabled"))+" ",1),n("span",Pe,o(t.twoFactorAuthenticationEnabledAt),1)])):(i(),b("div",je,[u(a(ct),{class:"h-6 w-6 text-danger-400 stroke-2 mr-1"}),c(" "+o(t.$t("craftable-pro","Disabled")),1)]))]),t.twoFactorAuthenticationEnabledAt?(i(),b("div",Qe,[u(a(g),{onClick:e[2]||(e[2]=s=>{r.value=!0}),variant:"outline",color:"gray"},{default:l(()=>[c(o(t.$t("craftable-pro","Manage app")),1)]),_:1}),u(Se,{onToggleOpen:e[3]||(e[3]=s=>r.value=!r.value),open:r.value,"two-factor-authentication-enabled-at":t.twoFactorAuthenticationEnabledAt,"change-app-clicked":()=>{t.alert("Hello")}},null,8,["open","two-factor-authentication-enabled-at","change-app-clicked"])])):(i(),b("div",qe,[u(a(g),{onClick:e[0]||(e[0]=s=>{d.value=!0}),leftIcon:a(dt)},{default:l(()=>[c(o(t.$t("craftable-pro","Set up authentication app")),1)]),_:1},8,["leftIcon"]),u(Wt,{onToggleOpen:e[1]||(e[1]=s=>d.value=!d.value),open:d.value},null,8,["open"])]))])])]),_:1},8,["title"]))}}),Ve={class:"flex items-center gap-3 justify-center"},Oe={class:"mx-auto flex max-w-3xl flex-col gap-6 2xl:max-w-4xl"},He=y({__name:"Edit",props:{craftableProUser:{}},setup(h){const d=h,{form:r,submit:t}=J({first_name:d.craftableProUser.first_name??"",last_name:d.craftableProUser.last_name??"",email:d.craftableProUser.email??"",locale:d.craftableProUser.locale??"",avatar:d.craftableProUser.avatar??[]},route("craftable-pro.craftable-pro-users.profile.update"));return(e,s)=>(i(),b(P,null,[u(a(ht),{sticky:"",title:e.$t("craftable-pro","User Settings")},null,8,["title"]),u(a(gt),null,{tabs:l(()=>[u(a(bt),{variant:"underline"},{default:l(()=>[u(a(K),{class:"w-full text-center"},{default:l(()=>[c(o(e.$t("craftable-pro","Profile")),1)]),_:1}),u(a(K),{class:"w-full text-center"},{default:l(()=>[n("div",Ve,o(e.$t("craftable-pro","Security")),1)]),_:1})]),_:1})]),default:l(()=>[u(a(D),null,{default:l(()=>[u(wt,{form:a(r),submit:a(t)},null,8,["form","submit"])]),_:1}),u(a(D),null,{default:l(()=>[n("div",Oe,[u(_t),u(Ue,{"two-factor-authentication-enabled-at":e.craftableProUser.two_factor_confirmed_at?a(ut)(e.craftableProUser.twoFactorAuthenticationEnabledAt).format("YYYY-MM-DD HH:mm:ss"):null},null,8,["two-factor-authentication-enabled-at"])])]),_:1})]),_:1})],64))}}),We=y({__name:"Edit",props:{craftableProUser:{},locales:{}},setup(h){const d=h;return(r,t)=>(i(),f(He,pt(ft(d)),null,16))}});export{We as default};
