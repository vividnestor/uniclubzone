<template>
  <div class="mt-6 flex flex-col gap-5">
    <div>
      <div class="text-slate-900 font-semibold leading-5">
        {{ $t('craftable-pro', 'Get your code from your authentication app') }}
      </div>
      <div class="text-slate-500 leading-5">
        {{ $t('craftable-pro', 'Enter the 6-digit code generated by your authentication app. A new code is generated every 30 seconds.') }}
      </div>
    </div>
    <div>
      <TextInput
        name="two-factor-confirmation-code"
        v-model="twoFactorAuthenticationConfirmationCode"
        :placeholder="$t('craftable-pro', 'Enter code')"
        :required="true"
        autocomplete="off"
      >
      </TextInput>
    </div>
  </div>
</template>

<script lang="ts" setup>
import {TextInput} from "craftable-pro/Components";
import {ref, watch} from "vue";

const twoFactorAuthenticationConfirmationCode = ref("");

const emit = defineEmits(["inputConfirmationCode"]);

watch(
  () => twoFactorAuthenticationConfirmationCode.value,
  () => {
    emit("inputConfirmationCode", twoFactorAuthenticationConfirmationCode.value);
  }
);

</script>
